function anchor(){var e=[...document.querySelectorAll(".anchor-pin")],t=[...document.querySelectorAll(".anchor-list > li")],n=window.scrollY+52,o=e.map(e=>e.getBoundingClientRect().top+window.scrollY);let i=0;for(let e=0;e<o.length;e++)n>=o[e]&&(i=e);t.forEach((e,t)=>e.classList.toggle("active",t===i))}function inviteGiftInteraction(){let e=document.querySelector(".section.invite .obj-wrap");var t=document.querySelector(".section.invite .point-reward .txt-wrap"),n=e.querySelector("img").cloneNode(!0);t.style.animationDuration="1.4s",e.style.transition="0.5s cubic-bezier(0.54, 1.56, 0.64, 1)",n.classList.add("clone"),e.appendChild(n);let o=0;setInterval(function(){e.style.transform=`translateX(${-230*(o+1)}px)`,3===++o&&(setTimeout(()=>{o=0,e.style.transition="none",e.style.transform=`translateX(${-230*o}px)`},500),setTimeout(()=>{e.style.transition=".5s cubic-bezier(0.54, 1.56, 0.64, 1)"},600))},1500)}function boxOpen1(){var e=document.querySelectorAll(".btn.box-open");let n=lottie.loadAnimation({container:document.querySelector(".fanfare"),renderer:"svg",loop:!1,autoplay:!1,path:"../assets/json/fanfare.json"});e.forEach(function(e){e.addEventListener("click",()=>{if(e.classList.contains("point")){var t=document.querySelector(".overlay.box-opening.point");let e=new bootstrap.Modal(document.getElementById("pointBox"));t.classList.remove("hidden"),setTimeout(()=>{e.show(),n.play()},1200)}else if(e.classList.contains("check")){t=document.querySelector(".overlay.box-opening.result");let e=new bootstrap.Modal(document.getElementById("winning"));t.classList.remove("hidden"),setTimeout(()=>{e.show(),n.play()},1200)}})});e=document.querySelector("#pointBox .btn.close");e&&e.addEventListener("click",()=>{boxOverlay.classList.add("hidden"),pointBoxModal.hide(),n.stop()})}function boxOpen2(){var e=document.querySelector(".btn.box-open.check");e&&e.addEventListener("click",()=>{var e=document.querySelector(".overlay.box-opening.result");let t=new bootstrap.Modal(document.getElementById("notWinning"));e.classList.remove("hidden"),setTimeout(()=>{t.show()},1200)})}function loginFunction(){let e=document.querySelector("body"),t=document.querySelector(".overlay.login-area");t&&t.querySelector(".btn.close").addEventListener("click",()=>{t.classList.add("hidden"),e.classList.remove("stop")});var n=document.querySelectorAll(".overlay.login-area .input-item .input"),o=document.querySelectorAll(".overlay.login-area .input-item .input-btn");let r=!1;n.forEach(function(i){i.addEventListener("input",()=>{var e=i.closest(".input-item"),t=""!==i.value.trim(),n=e.querySelector(".input-btn.remove"),o=e.querySelector(".input-btn.eye-close"),e=e.querySelector(".input-btn.eye-show");i.classList.toggle("value",t),n&&(n.hidden=!t),t?(e&&(e.hidden=!r),o&&(o.hidden=r)):(e&&(e.hidden=!0),o&&(o.hidden=!0))})}),o.forEach(function(n){n.addEventListener("click",()=>{var e=n.closest(".input-item"),t=e.querySelector(".input");n.classList.contains("remove")?(t.value="",t.classList.remove("value"),e.querySelectorAll(".input-btn").forEach(e=>{e.hidden=!0})):(n.classList.contains("eye-close")?(e.querySelector(".eye-show").hidden=!1,r=!0):n.classList.contains("eye-show")&&(e.querySelector(".eye-close").hidden=!1,r=!1),n.hidden=!0)})})}function termsModal(){var e=document.querySelectorAll(".terms-active");let t=document.querySelector(".overlay.terms");var n=t.querySelector(".overlay-close .btn.close");e.forEach(function(e){e.addEventListener("click",()=>{t.classList.remove("hidden")})}),n.addEventListener("click",()=>{t.classList.add("hidden")})}window.onload=function(){anchor(),inviteGiftInteraction(),boxOpen1(),boxOpen2(),loginFunction(),termsModal()},window.addEventListener("scroll",()=>{anchor()}),window.addEventListener("resize",()=>{anchor()});