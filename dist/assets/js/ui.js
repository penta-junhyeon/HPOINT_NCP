window.onload=function(){document.querySelector(".section.kv").classList.add("act");{let t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("up")})}),e=document.querySelectorAll(".section:not(.kv)");e&&e.forEach(e=>t.observe(e))}e(),n();{let e=document.querySelector(".section.rewards .sorting-btn-wrap"),t=e.querySelectorAll(".sorting-btn-list .btn");e&&(new Swiper(e,{slidesPerView:"auto",spaceBetween:10,freeMode:!0}),t.forEach(e=>{e.addEventListener("click",function(){t.forEach(e=>{e.classList.remove("active")}),this.classList.add("active")})}))}function e(e,t,a=[],n=[]){let o=document.querySelector(".section.calendar .month-grid");var r=new Date,l=new Date(e,t-1,1).getDay(),s=new Date(e,t,0).getDate(),c=new Date(e,t-1,0).getDate();let d=1,i=1;for(let t=1;t<=6;t++)if(d<=s&&1===i){var u=document.createElement("div");u.classList.add("week","week"+t);for(let e=0;e<7;e++){var p,m=document.createElement("div"),h=(m.classList.add("day-wrap"),document.createElement("span")),y=document.createElement("button");h.classList.add("day"),y.classList.add("btn"),y.setAttribute("type","button"),y.setAttribute("aria-label",d+"ì¼"),1===t&&e<l?(p=c-(l-e-1),m.classList.add("prev-month"),h.textContent=p):d<=s?(d===r.getDate()&&m.classList.add("today"),h.textContent=d,d++):(m.classList.add("next-month"),h.textContent=i,i++),m.appendChild(h),a.includes(d-1)&&m.appendChild(y),n.includes(d-1)&&(m.classList.add("h-day"),m.appendChild(y)),u.appendChild(m)}o.appendChild(u)}o.querySelectorAll(".day-wrap").forEach(a=>{let n=a.querySelector(".btn");n&&n.addEventListener("click",function(){var e=parseInt(a.querySelector(".day").textContent),t=o.querySelectorAll(".h-day.enable");a.classList.contains("enable")||(a.classList.contains("h-day")?t.length<v.length-1?(L("modal1",[e]),n.click(),L("modal7",[e])):o.classList.add("h-complete"):(L("modal4",[e]),n.click(),L("modal7",[e])),a.classList.add("enable"))})});let v=o.querySelectorAll(".h-day"),f=["color1","color2","color3","color4","color5","color6","color7"];0<v.length&&v.forEach((e,t)=>{t=f[t%f.length];e.classList.add(t)})}function n(n,o){var e=document.querySelectorAll(".btn-calendar .btn-wrap");e&&e.forEach(e=>{var t,a;e.classList.contains(n)&&(100===o?(e.classList.add("active"),e.querySelectorAll(".percent").forEach(e=>{e.style.display="none"})):(e.classList.remove("active"),e.querySelectorAll(".percent").forEach(e=>{e.style.display="inline-flex"})),(a=e.querySelector(".num"))&&(t=parseFloat(a.textContent.replace(/[^0-9.]/g,"")||"0"),new countUp.CountUp(a,o,{startVal:t,duration:1.5}).start()),t=(a=e.querySelector(".btn-progress")).querySelector(".percent .num"),a)&&t&&(a.style.setProperty("clip-path",`polygon(0 0, ${o}% 0%, ${o}% 100%, 0% 100%)`),e=parseFloat(t.textContent.replace(/[^0-9.]/g,"")||"0"),a=parseFloat(o||"0"),new countUp.CountUp(t,a,{startVal:e,duration:1.5}).start())})}function o(e){var t=document.querySelector(".cur-point .point"),a=parseInt(t.textContent.replace(/,/g,""),10)||0,e=parseInt(e,10);new countUp.CountUp(t,e,{startVal:a,duration:1.5,separator:","}).start()}function L(a,n=[]){document.querySelectorAll(".month-grid .day-wrap .day").forEach(e=>{var t=e.nextElementSibling;n.includes(parseInt(e.textContent))&&t&&(t.setAttribute("data-bs-toggle","modal"),t.setAttribute("data-bs-target","#"+a))})}e(2025,7,[1,2,4,5,7,10,11,12,13,16,21,24,25,26,28],[8,10,15,16,17,22,24]),n("h-complete",0),n("attend-complete",0),n("mission",0),n("h-complete",100),setInterval(()=>{var e=Math.floor(101*Math.random()),t=Math.floor(101*Math.random());n("attend-complete",e),n("mission",t);let a=document.querySelector(".toast");a.classList.add("active"),o(4920),setTimeout(()=>{Math.floor(101*Math.random());var e=Math.floor(101*Math.random());n("attend-complete",100),n("mission",e),a.classList.remove("active"),o(4620)},3e3)},5e3)};